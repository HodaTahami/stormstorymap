<!DOCTYPE html>
<html lang="en">
<head>
    <title>GPS Meterology</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--meta data for sharing links on Facebook-->
    <meta property="og:title" content="GPS METEROLOGICAL MAP"/>
    <meta property="og:description" content="This is an example of a storymap."/>
    <meta property="og:image" content="assets/hurricane2.jpg"/>

    <!--add required stylesheets-->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.2.0/dist/leaflet.css">
    <link rel="stylesheet" href="https://cesiumjs.org/releases/1.31/Build/Cesium/Widgets/widgets.css">
    <link href="https://fonts.googleapis.com/css?family=Lobster|Open+Sans" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">

    <!--add favicon for the web page-->
    <link rel="shortcut icon" href="img/GNSS.ico" type="image/x-icon">

    <!--facebook and info icons-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <!--animation-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

    <!--Font-->
    <link href="https://fonts.googleapis.com/css?family=Cairo" rel="stylesheet">

    <link rel="stylesheet" type="text/css" href="css/storymap.2.3.css">
    <!--add required libraries-->
    <script src="https://unpkg.com/leaflet@1.2.0/dist/leaflet.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet-ajax/2.1.0/leaflet.ajax.min.js"></script>
    <script src="https://cesiumjs.org/releases/1.31/Build/Cesium/Cesium.js"></script>

    <!--mini globle map-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.5/d3.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/topojson/1.6.19/topojson.min.js"></script>
    <script src="js/globeminimap.js"></script>

    <!--story map plugin-->
    <script src="js/storymap.2.3.js"></script>
</head>
<body>

<div id="storymap" class="container-fluid">
    <div class="row">
        <div class="col-sm-6 col-md-4 storymap-story">
            <section data-scene="overview" data-background="assets/09sept_Irma_g16geocolor.mp4">
                <div class="fullscreen text-center">
                    <h1 style="color: rgb(254,196,79)"> <b>GPS Meteorology</b></h1>
                    <h1>
                        <small style="color: rgb(255,247,188)"> This story map illustrates the GPS meteorology for
                            monitoring of Hurricane Matthew 2016.
                        </small>
                    </h1>
                    <br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/><br/>
                    <div class="credit">
                        <p><img style="width:140px;" align="right" src="img/osu.png"></p> <br/><br/><br/>
                        <p style="color: rgb(255,247,188)" align="right"> Created by Hoda Tahami From Oregon State University,2018 </p>
                    </div>
               </div>
                <br/><br/><br/>

            </section>
            <section data-scene="GPSMap">
                <h2 style="color: #045a8d" align="left" ><b>GPS meteorology </b></h2>
                <p align="justify">
                    The accurate prediction of the path and intensity of a hurricane is crucial for planning the evacuation of the
                    populated areas and for assessing its impact. Since the evolution of severe weather phenomena is associated
                    with notable transient changes in water contents in the low atmosphere, the accurate monitoring of atmosphere
                    water vapor or <i>perceptible water vapor (PWV) </i>spatial-temporal variations is critical to forecast and localize
                    severe storms. On the other hand, the dynamic perturbations in the atmosphere water content can be measured
                    from the tropospheric delay of GNSS signal propagated from a satellite to a receiver on the ground. By observing
                    PWV spatial-temporal variations during a hurricane event, the nature of PWV of this type of event can be
                    characterized.</p>
                <p align="justify">
                    This project will use data to produce a geovisualization, predicting hurricane path in US east coast states
                    (Florida, Georgia, North and South Carolina). The path forecasting is based on the 24 hour GNSS observations
                    of stations located at east coast area. As a case study, we adopted one of the most recent destructive and
                    long-lived hurricane along the Florida, Georgia, and South-Carolina coast, namely, <i><b>Hurricane Matthew</b></i>, occurred
                    in October 2016.
                    To investigate the potential of GNSS data for retrieving the perturbation of GNSS derived PWV,
                    seven days (5 October-11 October) observations of <a href="https://www.ngs.noaa.gov/CORS_Map/"><b>Continuously Operating Reference Stations (CORS) </b></a> were used to
                    track the hurricane trace .</p>
                <p align="justify">
                    The geovisualization will incorporate interactive elements, allowing the user to observe the fluctuation
                    of atmospheric parameters over time (seven days) and the predicted path of maximum rainfall in every one
                    hour prediction period. With forecasting the precipitation in each station, the path of maximum rainfall
                    movement can be displayed over the time. This geovisualization seeks to use certain indicators to show where
                    we can expect the maximum GNSS-derived precipitation as the atmospheric parameters (pressure, temperature,
                    relative humidity) fluctuate.  </p>
            </section>
            <section data-scene="GPS_PWV_Rain">

                <h2 style="color: rgba(4,22,44,0.93)" align="left" ><b>GPS derived precipitaion vs ATM parameters</b></h2>
                <p align="justify">
                    classification based on the hurricane occurrence time by connecting to the PWV observations time series and the defined threshold. The GNSS-derived PWV time series fluctuate below 0.055 during the “before” class (normal condition) where the precipitation associated to the hurricane does not happen. The estimated PWV keeps increasing to exceed the threshold where the “right before” class is defined. The “right before” class keeps for about one hour. The PWV series show an active, increasing pattern in the “during” class whereas the rainfall amounts reach its peak. Then PWV time series dramatically decrease to reach the threshold where the “right after” class is defined. It then fluctuates below the level of threshold while the “after” class is formed where rainfall is started to stop.
                    It is evident that all precipitation events happen when the PWV is fluctuating above the 0.050 m. </p>
                <br/>
                <img src="img/Vertical.jpg" class="img-responsive" alt="responsive image" alt-text="atm" >
                <br/><br/>
            </section>

            <section data-scene="GISinGPS">

                <h2 style="color: rgba(4,22,44,0.93)" align="left" ><b>How GIS helps in GPS meterology</b></h2>
                <p align="justify">
                    <b>
                        <strong><h5>
                            <ul>
                                <li>IDW or Kriging Interpolation</li>
                                <li>Reclassification</li>
                                <li>Overlay</li>
                                <li>Intersect</li>
                            </ul>
                        </h5></strong>
                    </b>
                </p>
                <br/>
                <img src="img/GIS1.jpg" class="img-responsive" alt="responsive image" alt-text="atm" >
                <br/><br/>
            </section>


            <section data-scene="GIS2inGPS" style="color: #045a8d">

                <h2 style="color: #04172f" align="left" ><b>Model's Discrepancy & Hurricane Path</b></h2>
                <p align="justify" style="color: #04172f">
                    By comparing different prediction time lags, the stations with minimum discrepancy are determined and clustered as a group.  The characteristics of PWV in each cluster in time domain plays a role as a forecast indicator,
                    which is extended to predict the path of the hurricane and its intensity as well..</p>
                <br/>
                <img src="img/GIS3.jpg" class="img-responsive" alt="responsive image" alt-text="gis_res" >
                <br/><br/>


            </section>
            <section data-scene="Path">

                <h2 style="color: #045a8d" align="left" ><b>Hurricane Path Prediction</b></h2>
                <p align="justify">
                    The accurate prediction of the path and intensity of a hurricane is crucial for planning the evacuation of the
                    populated areas and for assessing its impact. Since the evolution of severe weather phenomena is associated
                    with notable transient changes in water contents in the low atmosphere, the accurate monitoring of atmosphere
                    water vapor or <i>perceptible water vapor (PWV) </i>spatial-temporal variations is critical to forecast and localize
                    severe storms. On the other hand, the dynamic perturbations in the atmosphere water content can be measured
                    from the tropospheric delay of GNSS signal propagated from a satellite to a receiver on the ground. By observing
                    PWV spatial-temporal variations during a hurricane event, the nature of PWV of this type of event can be
                    characterized.</p>
                    <br/>
                    <img src="img/Path.jpg" class="img-responsive" alt="responsive image" alt-text="Hurricane 2016" >
                    <br/><br/>


            </section>
            <section data-scene="end" data-background="assets/hurricane.jpg">
                <div class="fullscreen text-center">
                    <br/>
                   <h1 class="">Watching for the next hurricane!!!</h1>
                    <h1>
                        <small style="color: rgba(255,255,255,0.95)">Download Storymap.js from
                            <a href="https://github.com/HodaTahami/GPS_Meterology_Storymap"> <i><b> https://github.com/HodaTahami/GPS_Meterology_Storymap </b></i> </a>
                        </small>
                    </h1>

                </div>
                <div class="credit">
                    <p><img style="width:180px;" align="right" src="img/osu.png"></p> <br/><br/><br/>
                    <p>Created by Hoda Tahami From Oregon State University</p>
                </div>
            </section>

        </div>
        <!--map div-->
        <div class="col-sm-6 col-md-8 storymap-map"></div>
    </div>


    <dl>
        <dt>
            <!--facebook icon-->
            <a class="fa fa-facebook-square btn" style="top:40px;color: #d0d1e6"
               href="https://facebook.com/sharer.php?u=https://github.com/HodaTahami/GPS_Meterology_Storymap"
               target="_blank"></a>
        </dt>
        <dt>
            <!--github icon-->
            <a class="fa fa-git-square btn" href="https://github.com/HodaTahami/GPS_Meterology_Storymap" style="top:60px;color:#d0d1e6"
               target="_blank"></a>
        </dt>
        <dt>
            <!--info icon-->
            <i class="fa fa-info-circle btn" style="top:80px;color:#d0d1e6" data-toggle="modal" data-target="#info-modal"></i>
        </dt>
    </dl>

    <!--the info page-->
    <div class="modal fade" id="info-modal" role="dialog">
        <div class="modal-dialog modal-md">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">About</h4>
                </div>
                <div class="modal-body">
                    <p>This is a web map of hurricane monitoring using Global Positining system (GPS).
                        The story map library is derived from the storymap plugin for leaflet at <a href="https://github.com/HodaTahami/GPS_Meterology_Storymap"> <i><b> https://github.com/HodaTahami/GPS_Meterology_Storymap </b></i> </a>, and its functionality
                        relies on leaflet, Mapbox and Boostrap.</p>
                    <p><b>Author: Hoda Tahami</b> | College of Engineering, Department of Civil Engineeing | Oregon State University
                    </p>
                    <p>The <a href="https://www.nesdis.noaa.gov/sites/default/files/09sept_Irma_g16geocolor.mp4">background video</a> on the front page
                        was clipped from NOAA website. </p>
                    <p>The favicon image was acquired from <a href="http://en.proft.me/media/android/android_location_api.png"> GNSS </a></p>
                    <p>This story map uses geospatial data from mapbox and GPS data from NGS</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- main javascript -->
<script type="text/javascript">


    var layers = {
        Stations: {
            layer: L.geoJson.ajax('assets/TestBuffer.geojson', {
                color: 'orange',
                weight: 20,
                opacity: 0.3
            })
        },
        HurricanePath: {
            layer: L.geoJson.ajax('assets/HurricanePath.geojson', {
                color: 'red',
                weight: 20,
                opacity: 0.3
            })
        },

        atmopshere: {
            layer: L.geoJson.ajax('assets/CCV6.geojson', {
                color: 'red',
                weight: 20,
                opacity: 0.3
            })
        },


        GIS1: {
            layer: L.geoJson.ajax('assets/SelectedCORS.geojson', {
                color: 'red',
                weight: 20,
                opacity: 0.3
            })
        },

        GIS2: {
            layer: L.geoJson.ajax('assets/HurricanePath.geojson', {
                color: 'red',
                weight: 20,
                opacity: 0.3
            })
        },

        states: {
            layer: L.geoJson.ajax('assets/States.geojson', {
                color: 'orange',
                fillColor: "white",
                weight: 5,
                opacity: 0.3
            })
        },
        states2: {
            layer: L.geoJson.ajax('assets/States.geojson', {
                color: 'orange',
                fillColor: "white",
                weight: 5,
                opacity: 0.1
            })
    },

        pathline: {
            layer: L.geoJson.ajax('assets/pathLine2.geojson', {
                color: 'Red',
                weight: 10,
                opacity: 0.5
            })
        },

        pathcorss: {
            layer: L.geoJson.ajax('assets/CorsOnPath.geojson', {
                color: 'Red',
                weight: 10,
                opacity: 0.5
            })
        },

        satellite: {
            layer: L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiamFrb2J6aGFvIiwiYSI6ImNpcms2YWsyMzAwMmtmbG5icTFxZ3ZkdncifQ.P9MBej1xacybKcDN_jehvw', {
                id: 'mapbox.satellite'
            })
        },


        rainfall: {
            layer: L.tileLayer('https://map1.vis.earthdata.nasa.gov/wmts-webmerc/MODIS_Terra_CorrectedReflectance_TrueColor/default/{time}/{tilematrixset}{maxZoom}/{z}/{y}/{x}.{format}', {
                attribution: 'Imagery provided by services from the Global Imagery Browse Services (GIBS), operated by the NASA/GSFC/Earth Science Data and Information System (<a href="https://earthdata.nasa.gov">ESDIS</a>) with funding provided by NASA/HQ.',
                bounds: [[-85.0511287776, -179.999999975], [85.0511287776, 179.999999975]],
                minZoom: 1,
                maxZoom: 9,
                format: 'jpg',
                time: '',
                tilematrixset: 'GoogleMapsCompatible_Level'
            })
        },

        rainfall2: {
            layer: L.tileLayer('https://cartodb-basemaps-{s}.global.ssl.fastly.net/dark_all/{z}/{x}/{y}.png', {
                attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a> &copy; <a href="http://cartodb.com/attributions">CartoDB</a>',
                subdomains: 'abcd',
                maxZoom: 19
            })
        },

        rainfall3: {
            layer:  L.tileLayer('https://{s}.tile.openstreetmap.se/hydda/full/{z}/{x}/{y}.png', {
                maxZoom: 18,
                attribution: 'Tiles courtesy of <a href="http://openstreetmap.se/" target="_blank">OpenStreetMap Sweden</a> &mdash; Map data &copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
            })
        },


        cartodb_dark: {layer:L.tileLayer('https://api.mapbox.com/styles/v1/hoda-tahami/cj9j2lkb52uwl2spkgiqcuck8/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaG9kYS10YWhhbWkiLCJhIjoiY2o4eHk3cDE2MDBzOTMzcXJ5dHJuY3h2NSJ9.qeQeUCbBvD3zRKcwb3TIlw#13.2/40.721642/-73.990029/0', {
            detectRetina: true,
            attribution: 'Created By <a href="http://github.com/HodaTahami/">Hoda Tahami</a> based on the <a href="assets/license.txt">Mapbox Odyssey style</a>'
        })}
    };

    var scenes = {
        overview: {lat: 44.0000000, lng: -123.5000000, zoom: 7, name: 'Cover Page'},
        GPSMap: {lat: 32.104717, lng:  -90.335284 , zoom: 6, name: 'GPSMap',layers: ['Stations']},
        GPS_PWV_Rain: {lat: 28.621986, lng:   -82.301035 , zoom: 8, name: 'GPSMap2',layers: ['atmopshere','rainfall']},
        GISinGPS: {lat:33.674463,  lng:  -84.047502, zoom: 7, name: 'GPSMap3',layers: ['GIS1','states2','rainfall2']},
        GIS2inGPS: {lat: 32.689584, lng:-83.571749 , zoom: 7, name: 'GPSMap4',layers: ['states','pathline','pathcorss','rainfall3']},
        Path: {lat: 31.648100, lng:  -83.445390 , zoom: 7, name: 'Path',layers: ['HurricanePath','pathline', 'satellite'] },
        end: {lat: 44.0000000, lng: -123.5000000, zoom: 7, name: 'The End'}
    };

    $('#storymap').storymap({
        scenes: scenes,
        layers: layers,
        baselayer: layers.cartodb_dark,
        legend: true, // if you do not want a legend feature, you can simply not define the createLegend function.
        credits:  "Created by Hoda Tahami, 2018",
        loader: true,
        scalebar: false,
        navwidget: true,

        createMap: function () {
            // create a map in the "map" div, set the view to a given place and zoom
            var map = L.map($(".storymap-map")[0], {zoomControl: false, scrollWheelZoom: false}).setView([28.536343, -81.382425], 15);

            //add an miniglobe
            new L.Control.GlobeMiniMap({
                marker: 'red',
                position: 'bottomright'
            }).addTo(map);


            return map;
        }
    });
</script>
</body>
</html>